 [![ç®€å•çš„Pythonè„šæœ¬å°†å­˜å‚¨åº“ä»Githubé•œåƒåˆ°Gitea](data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)](https://pythonawesome.com/simple-python-script-to-mirror-repository-from-github-to-gitea/)

## github\-gitea\-mirror

ä»Githubåˆ°Giteaé•œåƒå­˜å‚¨åº“/è¦æ—¨çš„ç®€å•Pythonè„šæœ¬ã€‚

## âœ…è¦æ±‚

1.  Python3\- `sudo apt-get install python3`
2.  [PyGithub](https://github.com/PyGithub/PyGithub) \- `pip install PyGithub`

## âš™ï¸å®‰è£…

### Githubå…‹éš†

åªéœ€åœ¨GiteaæœåŠ¡å™¨ä¸­è¿è¡Œä»¥ä¸‹cmd

```
git clone https://github.com/varunsridharan/github-gitea-mirror

```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¸‹è½½æºä»£ç å¹¶å°†å…¶å®‰è£…åœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹

## ğŸš€ç”¨æ³•

### Githubè®¿é—®ä»¤ç‰ŒèŒƒå›´

*   å¦‚æœæ‚¨æƒ³é•œåƒç§äºº **ä»“åº“ï¼Œ** åˆ™åœ¨**ä»“åº“** èŒƒå›´å†… é€‰æ‹©æ‰€æœ‰å†…å®¹
*   å¦‚æœè¦é•œåƒå…¬å…± **ä»“åº“ï¼Œ** åˆ™é€‰æ‹©**repo.public\_repo** ä½œç”¨åŸŸ
*   å¦‚æœè¦é•œåƒç§˜å¯† **è¦ç‚¹ï¼Œè¯·** é€‰æ‹©**è¦ç‚¹** èŒƒå›´

### é¦–å…ˆï¼Œè¯·ç¡®ä¿æ‚¨å·²æ›´æ–° `config.json`

| é€‰é¡¹ | æè¿° |
| --- | --- |
| `github.username` | æ‚¨çš„Githubç”¨æˆ·å |
| `github.accesstoken` | æ‚¨çš„Githubå¸æˆ·çš„ä¸ªäººè®¿é—®ä»¤ç‰Œ |
| \-\- | \-\- |
| `gitea.host` | è‡ªæ‰˜ç®¡çš„Gitea URLï¼Œä¸å¸¦ `/` æœ«å°¾ |
| `gitea.accesstoken` | æ‚¨çš„ä¸ªäººè®¿é—®ä»¤ç‰Œ |
| `gitea.username` | å¸æˆ·ç”¨æˆ·å |
| `gitea.gist.prefix` | é•œåƒè¦ç‚¹æ—¶å­˜å‚¨åº“çš„è‡ªå®šä¹‰å‰ç¼€ |
| `gitea.gist.surfix` | é•œåƒè¦ç‚¹æ—¶å­˜å‚¨åº“çš„è‡ªå®šä¹‰å‰ç¼€ |
| \-\- | \-\- |
| `repomap` | é‡æ–°æ˜ å°„å­˜å‚¨åº“åˆ°ä¸åŒçš„ç”¨æˆ· |
| `gistsSource` | è®¾ç½®ä¸ºtrueä»¥åæ˜ æ‚¨åˆ›å»ºçš„æ‰€æœ‰è¦ç‚¹ |
| `gistsStared` | è®¾ç½®ä¸ºtrueä»¥åæ˜ æ‚¨å‡è§†çš„æ‰€æœ‰è¦ç‚¹ |
| `repositoryStared` | è®¾ç½®ä¸ºtrueä»¥åæ˜ æ‚¨ç›¯ç€çš„æ‰€æœ‰å­˜å‚¨åº“ |
| `repositorySource` | è®¾ç½®ä¸ºtrueä»¥é•œåƒæ‚¨åˆ›å»ºçš„æ‰€æœ‰å­˜å‚¨åº“ |
| `repositoryForked` | è®¾ç½®ä¸ºtrueä»¥é•œåƒæ‰€æœ‰ç”±æ‚¨åˆ†å‰çš„å­˜å‚¨åº“ |

### è¿è¡Œcmdå¹¶ç­‰å¾…

```
$ python3 mirror.py

```

## Cronè®¾å®š

1.  è·‘ `crontab -e`
2.  `mkdir $HOME/mirrorLogs -p`
3.  `/usr/bin/python3 $HOME/github-to-gitea-mirror/mirror.py > $HOME/mirrorLogs/` æ—¥æœŸ+ï¼…Y\-ï¼…m\-ï¼…d\-ï¼…H\-ï¼…M\-ï¼…S `.log 2>&1`

---

## çš„GitHub

### [varunsridharan](http://github.com/varunsridharan "http://github.com/varunsridharan") / [github\-gitea\-mirror](http://github.com/varunsridharan/github-gitea-mirror "http://github.com/varunsridharan/github-gitea-mirror")

[30](http://github.com/varunsridharan/github-gitea-mirror/watchers "æŸ¥çœ‹è§‚å¯Ÿè€…") [2](http://github.com/varunsridharan/github-gitea-mirror/network/members "æŸ¥çœ‹å‰è½¦")

ç®€å•çš„Pythonè„šæœ¬å°†å­˜å‚¨åº“ä»Githubé•œåƒåˆ°Gitea â€” [é˜…è¯»æ›´å¤š](http://github.com/varunsridharan/github-gitea-mirror#readme)

2020å¹´10æœˆ26æ—¥ å¯¹ **ä¸»è¦** åˆ†æ”¯æœºæ„çš„ æœ€æ–°æ‰¿è¯º

[ä¸‹è½½ä¸ºzip](http://github.com/varunsridharan/github-gitea-mirror/zipball/master "è·å–æ­¤å­˜å‚¨åº“çš„å­˜æ¡£")

[å‘½ä»¤è¡Œå·¥å…·](https://pythonawesome.com/tag/command-line-tools/ "å‘½ä»¤è¡Œå·¥å…·")